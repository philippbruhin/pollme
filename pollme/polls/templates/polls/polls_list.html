{% extends "base.html" %}

{% block extra_head %}
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css"
    integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/"
    crossorigin="anonymous">
{% endblock %}

{% block content %}
  <div class="container">
    <div class="row">
      <div class="col-sm-8 offset-sm-2">
        <h1>Polls</h1>

        {% if messages %}
          <div class="alert alert-danger" role="alert">
              <ul class="messages">
                  {% for message in messages %}
                  <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
                  {% endfor %}
              </ul>
          </div>
        {% endif %}

        <a href="{% url 'polls:add' %}" class="btn btn-primary mb-3">Add <i class="fas fa-plus"></i></a>
        <ul class="list-group">
          {% for poll in polls %}
          <li class="list-group-item">
            <a href="{% url 'polls:detail' poll.id  %}">{{ poll.text }} | {{ poll.pub_date }}</a>
            {% if request.user == poll.owner %}
              <a href="{% url 'polls:edit_poll' poll.id %}" class="float-right"><i class="fas fa-pencil-alt"></i></a>
            {% endif %}
          </li>
          {% endfor %}
        </ul>
      </div>
    </div>
  </div>
{% endblock %}